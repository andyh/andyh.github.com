<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width = 750">
    <link rel="stylesheet" type="text/css" href="css/master.css" charset="utf-8">
    <link rel="stylesheet" type="text/css" href="css/syntax.css" charset="utf-8">
    <title>Automating Git repository setup with Capistrano</title>
  </head>
  <body id="intro">
    <div id="wrapper">
      <div id="header">
        <h1>elaptics.co.uk</h1>
      </div>
      <div id="navigation">
        <ul>
          <!-- <li id="navi_intro">
            <a href="http://www.elaptics.co.uk/about.html">About</a>
          </li> -->
          <li id="navi_source">
            <a href="http://www.elaptics.co.uk/projects.html">Projects</a>
          </li>
        </ul>
      </div>
      <div id="page_body">
        <div id="content">
          <p>Setting up a remote repository for Git is really easy, but who wants to type things unnecessarily? Tonight I knocked up a task for Capistrano which <em>gitify&#8217;s</em> your current directory then creates a remote git repository and pushes to it.</p>

<p>It&#8217;s based on a bit of code by <a href='http://peepcode.com'>Geoffrey Grosenbach</a> but modified for my needs. I have a VPS which is where I want to host my repositories. This should also work if you&#8217;re running on a shared host like Dreamhost where you have ssh access, though I haven&#8217;t tested it.</p>

<p>Simply cut and paste the following code into <code>~/.caprc</code> then you can run:</p>

<pre><code>cap git:setup scm=t</code></pre>

<p>If it&#8217;s a Rails app then you can also do</p>

<pre><code>cap git:setup scm=t railsapp=t</code></pre>

<p>which will add .gitignore files to exclude the basics like log and temp files, .DS_Store, .sqlite3 and the api docs</p>
<script src='http://gist.github.com/33269.js' />
                    
          <div id="disqus_thread"></div>
          <script type="text/javascript">
            /**
              * var disqus_identifier = ; [Optional but recommended: Define a unique identifier (e.g. post id or slug) for this thread] 
              */
            (function() {
             var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
             dsq.src = 'http://elaptics.disqus.com/embed.js';
             (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
          </script>
          <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=elaptics">comments powered by Disqus.</a></noscript>
          <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
          
        </div>
        <div id="sidebar">
          <div class="item">
            <!-- Blog   -->
            <a href="atom.xml" id="rss_feed" name="rss_feed">Blog Posts</a>
            <h4>Blog Posts</h4>
            <p>
               
                <span>08 Dec 2008</span> » <a href="/2008/12/automating-git-repository-setup-with-capistrano">Automating Git repository setup with Capistrano</a><br>
               
                <span>10 Aug 2008</span> » <a href="/2008/08/design-principles-cheatsheet">design principles cheatsheet</a><br>
               
                <span>13 Jun 2008</span> » <a href="/2008/06/backpack-journal-dashboard-widget">Backpack Journal Dashboard Widget</a><br>
               
                <span>09 Jun 2008</span> » <a href="/2008/06/blast-from-the-past">Blast from the past</a><br>
               
                <span>26 May 2008</span> » <a href="/2008/05/new-design-new-beginnings">New Design, New Beginnings?</a><br>
               
                <span>28 Jul 2006</span> » <a href="/2006/07/a-dubious-first">A dubious first!</a><br>
               
                <span>26 Apr 2006</span> » <a href="/2006/04/ds_store-no-more-on-network-shares-at-least">.ds_store no more (on network shares at least!)</a><br>
               
                <span>08 Apr 2006</span> » <a href="/2006/04/easier-editing-of-typoscript">Easier editing of TypoScript</a><br>
               
                <span>27 Mar 2006</span> » <a href="/2006/03/pc-world-ahead-of-the-curve">PC World ahead of the curve?</a><br>
               
                <span>14 Mar 2006</span> » <a href="/2006/03/is-this-me">Is this me?</a><br>
               
                <span>13 Mar 2006</span> » <a href="/2006/03/secret-gmail-account">Secret GMail account</a><br>
               
                <span>04 Mar 2006</span> » <a href="/2006/03/titles-are-the-hardest-thing-to-write">Titles are the hardest thing to write!</a><br>
               
                <span>25 Feb 2006</span> » <a href="/2006/02/more-reviews">More Reviews</a><br>
               
                <span>22 Feb 2006</span> » <a href="/2006/02/playing-with-stuff">Playing with stuff</a><br>
               
                <span>20 Feb 2006</span> » <a href="/2006/02/first-posting">First Posting</a><br>
              
            </p>
          </div>
        </div>
      </div>
      <div id="footer">
        <p>Copyright 2006 - 2010 &copy; Andy Henson</p>
      </div>
    </div>
    <a href="http://github.com/andyh"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>
    <script type="text/javascript">
    var disqus_shortname = 'elaptics';
    (function () {
      var s = document.createElement('script'); s.async = true;
      s.src = 'http://disqus.com/forums/elaptics/count.js';
      (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
    </script>
  </body>
</html>
